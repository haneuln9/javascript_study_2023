<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="keywords" content="">
    <meta name="description" content="">
    <title>car_history</title>
    <link rel="stylesheet" href="./style/reset.css">
    <link rel="stylesheet" href="./style/day11_car.css">

</head>
<body>
    <main>
        <!--영상위치-->
        <section id="video">
            <p class="category">video</p>
            <div class="line"><span></span></div>
            <h1>카히스토리 영상</h1>
            <p class="contents">영상을 통해 카히스토리 사용방법 등 자세한 정보를 확인해보세요.</p>
            <!--탭 시작-->
            <div class="tab_title">
                <a href="#" class="active">안내</a>
                <a href="#">사용방법</a>
            </div>
            <div class="tab_contents">
                <div class="tab_c1 active">
                    <video src="./carhistory_image/carhistory.mp4" autoplay muted loop></video>
                    <img src="./carhistory_image/video.png" alt="">
                </div>
                <div class="tab_c2">
                    <img src="./carhistory_image/hero-bg-md-03.gif" alt="">
                </div>
            </div>
        </section>
        <!--자주 사용하는 메뉴-->
        <section id="menu">
            <p class="category">menu</p>
            <div class="line"><span></span></div>
            <h1>자주 사용하는 메뉴</h1>
            <p class="contents">자주 사용하는 메뉴로 카히스토리를 보다 편리하게 이용하세요.</p>
        <!--탭 시작-->
            <div class="tab_title">
                <a href="#" class="active">사고 이력 조회</a>
                <a href="#">정보 이용료</a>
                <a href="#">조회 방법</a>
                <a href="#">용어 설명</a>
            </div>
            <div class="tab_contents">
                <div class="tab_c1">
                    <div class="left">
                        <h2>사고 이력 조회></h2>
                        <p ><img src="./carhistory_image/car-new.png" alt=""></p>
                        <p>관련메뉴<br>
                        -조회가 원활하게 안되시나요?
                        <a href="#" class="move_user">고객문의 바로가기></a></p>
                    </div>
                    <div class="right">
                        <h3>왜 사고이력 조회가 필수인가?</h3>
                        <ul>
                            <li>
                                <!-- <p><img src="./carhistory_image/menu-1-1.png" alt=""></p> -->
                                <span>01</span>
                                <p>평균 사고건수2.93건
                                <em>(2016년 카히스토리 조회 차량 기준)</em></p>
                            </li>
                            <li>
                                <!-- <p><img src="./carhistory_image/menu-1-2.png" alt=""></p> -->
                                <span>02</span>
                                <p>운전자의 안전을 위협하는 침수,전손 확인</p>
                            </li>
                            <li>
                                <!-- <p><img src="./carhistory_image/menu-1-3.png" alt=""></p> -->
                                <span>03</span>
                                <p>허위 매물 방지</p>
                            </li>
                        </ul>
                </div>
            </div>
                <div class="tab_c2">정보이용료</div>
                <div class="tab_c3">조회방법</div>
                <div class="tab_c4">용어설명</div>
            </div>
        </section>
    </main>
    <script>
        //카히스토리 영상
        //1. 안내 초기 보이기(사용 방법 초기 숨기기)
        //2. 사용방법 탭 제목 클릭시 사용방법 내용 보이기(안내 내용 숨기기)
        //3. 안내 탭 제목 클릭시 사용방법 안내 보이기(사용 방법내용 숨기기)
        //변수 
        const videoTabTitle = document.querySelectorAll('#video .tab_title a')
        const videoTabContent = document.querySelectorAll('#video .tab_contents > div')
        console.log(videoTabContent, videoTabTitle)
        //--------------------------
        /*1. 안내 초기 보이기(사용 방법 초기 숨기기)*/
        videoTabContent[1].style.display = 'none'
        /*
        DOM 객체 2 개 이상을 변수 querySelectorAll 로 저장했을 경우 자바스크립스 속성 및 메서드로
        활용 하고자 하는 경우 바로 변수명을 작성하지 안고 인덱스 번호를 작성 해서 이용해야한다.
        DOM변수명 X
        DOM변수명[인덱스] O 
        2개 이상을 동시에 처리하기 위해 for 을 사용하는 경우라면 인덱스를 표시하지 않기도 한다.
        */
        //for 을 이용한 반복문으로 인데스 없이 처리하는 방법
        // for(let i of videoTabContent){
        //     console.log(i)
        // }
        /*2.사용방법 탭 제목 클릭시 사용방법 내용 보이기(안내 내용 숨기기)*/
        // videoTabTitle[1].addEventListener('click',function(e){
        //     e.preventDefault()
        //     videoTabContent[1].style.display ='block'
        //     videoTabContent[0].style.display ='none'
        // })
        /*3. 안내 탭 제목 클릭시 사용방법 안내 보이기(사용 방법내용 숨기기)*/
        /*
        a 태그에 자바스크립트 클릭 이벤트 적용 시 
        화면 새로 고침으로 스크롤이 위로올라가는 문제가 발생한다.
        이유= a href 의 고유 속성 때문
        *해결 방법* 
        1.href 기능 막아주는 자바스크립트 메서드 추가
        2.클릭이벤트 함수의 매개변수 생성
        3.매개변수에 href 속성이 담기므로 해당 매개변수 활용
        4.preventDefault() 메서드를 연결해서 기능 막아준다.
        */
        // videoTabTitle[0].addEventListener('click',function(e){
        //     e.preventDefault()
        //     videoTabContent[0].style.display ='block'
        //     videoTabContent[1].style.display ='none'
        // })
        //위 개별 이벤트 for 문으로 처리하기
        /*
        두개 이상의 DOM 객체 변수 (querySelectorAll 선언대상)

        for ~ of 사용 경우
        1. 동일 객체 변수에 동일한 속성, 메서드 적용할때
        >>tabTitle 2개 대상을 가진 변수에 같은 속성 적용할때

        forEach 사용 경우
        1. 2개 이상의 동일객체 변수가 인덱스가 통일됐을 경우
        2. 해당 변수들의 속성, 메서드를 적용할 때(제어하는 대상과 속성을 적용시키는 메서드의 인덱스가 동일한지.)
        >>tabTitle 2ro, tabContents2개의 변수에 같은 속성 적용
        >forEach 첫번째 선언 변수는 이벤트 제어 대상
        >forEach 함수 내 선언 변수는 이벤트 결과대상
        >>변수.forEach(function(매개변수들){실행함수})
        */
        
        videoTabTitle.forEach(function(target, index, array){
            target.addEventListener('click',function(e){
                e.preventDefault()
                //8/9일 추가 class active호출용
                //dom.classList.add('적용 클래스명')
                //dom.classList.remove('제거 클래스명')
                //remove 모두제거
                for(let i of videoTabTitle)[i.classList.remove('active')]
                //개별 target add class 적용
                target.classList.add('active')
                //----------------------------------
                //클릭 이벤트 안에서는 이벤트 대상의 인덱스만 인식한다.
                console.log(index)
                //모두 숨기기
                for(let i of videoTabContent){i.style.display='none'}
                //클릭한 객체 인덱스와 동일한 인덱스의 다른 요소 체크
                videoTabContent[index].style.display = 'block'
                /*
                for 문 활용해서 동일 인덱스 출력을 진행할 경우
                출력 외 대상을 숨길때는 정확히 어떤 인덱스를 숨길거인지 정하는 것이
                아닌 대상 모두를 숨기고 그중 해당 되는 인덱스만출력하는 방향으로 진행한다.
                */
            })
        })
        //자주 사용하는 메뉴 -탭js
        /*
        0. 필요한 변수 생성
        1. 사고 이력조회 내용 외 다른 내용 숨기기
        2. 각 텝 제목 클릭시 연관된 내용 보이기 forEach문 구성
        */
        
        const menuTabTitle = document.querySelectorAll ('#menu .tab_title a')
        const menuTabContents = document.querySelectorAll ('#menu .tab_contents > div')
        console.log(menuTabTitle, menuTabContents)
        //1. 사고 이력 조회 내용외 다른 내용 숨기기
        for(let i of menuTabContents){i.style.display='none'}
        menuTabContents[0].style.display='flex'
        //2.각탭 제목 클릭시 연관된 내용 보이기
        menuTabTitle.forEach(function(t,i,a){
            t.addEventListener('click',function(e){
                e.preventDefault()
                for(let i of menuTabTitle)[i.classList.remove('active')]
                t.classList.add('active')
                for(let i of menuTabContents){i.style.display='none'}
                menuTabContents[i].style.display='flex'
            })
        })

    </script>
</body>
</html>